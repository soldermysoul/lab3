<!DOCTYPE html>
<html>
    
    <head>
        <title> Sign Up Page </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    </head>
    
    <body>
        
        <h1> Sign Up </h1>
        
        First Name: <input type="text"  name="fName"><br>
        Last Name:  <input type="text"  name="lName"><br>
        Gender:     <input type="radio" name="gender" value="m"> Male<br>
                    <input type="radio" name="gender" value="f"> Female<br>
        
        Zip Code:   <input type="text"  id="zip" name="zip"><br>
        City:       <span id="city"></span><br>
        Latitude:   <span id="latitude"></span><br>
        Longitude:  <span id="longitude"></span><br>
        
        State:
        <select id="state" name="state">
            <option> Select One </option>
            <option value="ca"> California </option>
            <option value="ny"> New York   </option>
            <option value="tx"> Texas.     </option>
        </select><br>
        
        Select a County: <select id="county"></select><br>
        
        Desired Username: <input type="text" id="username" name="username"><br>
        
        Password:         <input type="password" id="password" name="password"><br>
        Password Again:   <input type="password" id="passwordAgain">
        
        <input type="submit" value="Sign Up!">
      
      
    <script>
        
        // Displaying City from API after typing a zip code
        $("#zip").on("change", async function(){
            
            // alert($("#zip").val());
            let zipCode = $("#zip").val();
            let url = `https://itcdland.csumb.edu/~milara/ajax/cityInfoByZip.php?zip=${zipCode}`;
            let response = await fetch(url);
            let data = await response.json();
            // console.log(data)
            $("#city").html(data.city);
            $("#latitude").html(data.latitude);
            $("#longitude").html(data.longitude);
            
        }); // zip
        
        $("#state").on("change", async function(){
            
            // alert($("#state").val());
            let state = $("#state").val();
            let url = `https://itcdland.csumb.edu/~milara/ajax/countyList.php?state=${state}`;
            let response = await fetch(url);
            let data = await response.json();
            // console.log(data)
            for (let i=0; i < data.length; i++) {
                $("#county").append(`<option> ${data[i].county} </option>`);
            }
            
        }); // state
        
    </script>
    
    </body>
    
</html>